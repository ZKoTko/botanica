<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Botanica</title>
    <!--Links-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/slick.css">
    <link rel="stylesheet" href="assets/css/slick-theme.css">
    <script src="https://kit.fontawesome.com/6ac2c9abcd.js" crossorigin="anonymous"></script>
    <link rel="icon" href="assets/img/favicon.webp" sizes="32x32" />
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link href="assets/css/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/pages-style.css">
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
</head>
  <body>
    <header>     
    </header>
    <main class="delivery-page-main">

        <div class="delivery-modal modal" tabindex="-1" id="delivery-modal" aria-labelledby="delivery-modal" data-bs-backdrop="true" data-bs-keyboard="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    <p>Нужно снять запрет</p>
                    <span>У вас установлен запрет на определение местоположения. Измените это в настройках браузера и повторите попытку. Это поможет определить ваш адрес.</span>       
                    <button type="button" class="btn delivery-modal-btn" data-bs-dismiss="modal">Понято</button>        
                </div>
              </div>
        </div>

        <div class="delivery-wrapper">
            <div class="delivery-content">
                <div class="delivery-side">
                    <div class="delivery-side-content">
                        <div class="delivery-back">
                            <i class="fa-solid fa-arrow-left-long"></i>
                            <span>Назад</span>
                        </div>
                        <div class="delivery-title">
                            <span>Способ доставки</span>
                        </div>
                        <div class="delivery-switch">
                            <div class="delivery-switch-item active" data-target="#delivery-inner1">
                                Самовывоз
                            </div>
                            <div class="delivery-switch-item" data-target="#delivery-inner2">
                                Курьером
                            </div>
                        </div>
                        <div class="delivery-title">
                            <span>Куда доставить заказ?</span>
                            <p>Укажите на карте или воспользуйтесь поиском</p>
                        </div>
                        <div class="delivery-seach-wrapper">
                            <i class="fa-solid fa-magnifying-glass"></i>
                            <input class="nav-search-input" placeholder=" " type="text" id="search1">
                            <label for="search1" class="nav-search-label">Адрес</label>
                            <i class="fa-solid fa-sort-down"></i>
                        </div>
                        <div class="delivery-location-find" data-bs-toggle="modal" data-bs-target="#delivery-modal">
                            <i class="fa-solid fa-location-arrow"></i>
                            <p>Определить мое местоположение</p>
                        </div>
                        <div class="mob-delivery-location-switch">
                            <div class="mob-delivery-location-switch-item active">
                                Карта
                            </div>
                            <div class="mob-delivery-location-switch-item">
                                Список
                            </div>
                        </div>
                        <div class="delivery-locations-wrapper">
                            <div class="delivery-location-item">
                                <i class="fa-solid fa-map-location-dot"></i>
                                <div class="delivery-location-item-content">
                                    <p>Пункт выдачи СДЭК</p>
                                    <span class="delivery-location-item-adress">Москва ул. Новопесчаная, 8 корп. 1</span>
                                    <span class="delivery-location-item-time">Ежедневно с 10:00 по 21:00</span>
                                    <div class="delivery-location-item-controls">
                                        <a href="#">Подробнее</a>
                                        <button class="btn">Забрать здесь</button>
                                    </div>
                                </div>
                            </div>
                            <div class="delivery-location-item">
                                <i class="fa-solid fa-map-location-dot"></i>
                                <div class="delivery-location-item-content">
                                    <p>Пункт выдачи СДЭК</p>
                                    <span class="delivery-location-item-adress">Москва ул. Новопесчаная, 8 корп. 1</span>
                                    <span class="delivery-location-item-time">Ежедневно с 10:00 по 21:00</span>
                                    <div class="delivery-location-item-controls">
                                        <a href="#">Подробнее</a>
                                        <button class="btn">Забрать здесь</button>
                                    </div>
                                </div>
                            </div>
                            <div class="delivery-location-item">
                                <i class="fa-solid fa-inbox"></i>
                                <div class="delivery-location-item-content">
                                    <p>Пункт выдачи СДЭК</p>
                                    <span class="delivery-location-item-adress">Москва ул. Новопесчаная, 8 корп. 1</span>
                                    <span class="delivery-location-item-time">Ежедневно с 10:00 по 21:00</span>
                                    <div class="delivery-location-item-controls">
                                        <a href="#">Подробнее</a>
                                        <button class="btn">Забрать здесь</button>
                                    </div>
                                </div>
                            </div>
                            <div class="delivery-location-item">
                                <i class="fa-solid fa-inbox"></i>
                                <div class="delivery-location-item-content">
                                    <p>Пункт выдачи СДЭК</p>
                                    <span class="delivery-location-item-adress">Москва ул. Новопесчаная, 8 корп. 1</span>
                                    <span class="delivery-location-item-time">Ежедневно с 10:00 по 21:00</span>
                                    <div class="delivery-location-item-controls">
                                        <a href="#">Подробнее</a>
                                        <button class="btn">Забрать здесь</button>
                                    </div>
                                </div>
                            </div>
                            <div class="delivery-location-item">
                                <i class="fa-solid fa-map-location-dot"></i>
                                <div class="delivery-location-item-content">
                                    <p>Пункт выдачи СДЭК</p>
                                    <span class="delivery-location-item-adress">Москва ул. Новопесчаная, 8 корп. 1</span>
                                    <span class="delivery-location-item-time">Ежедневно с 10:00 по 21:00</span>
                                    <div class="delivery-location-item-controls">
                                        <a href="#">Подробнее</a>
                                        <button class="btn">Забрать здесь</button>
                                    </div>
                                </div>
                            </div>
                            <div class="delivery-location-item">
                                <i class="fa-solid fa-map-location-dot"></i>
                                <div class="delivery-location-item-content">
                                    <p>Пункт выдачи СДЭК</p>
                                    <span class="delivery-location-item-adress">Москва ул. Новопесчаная, 8 корп. 1</span>
                                    <span class="delivery-location-item-time">Ежедневно с 10:00 по 21:00</span>
                                    <div class="delivery-location-item-controls">
                                        <a href="#">Подробнее</a>
                                        <button class="btn">Забрать здесь</button>
                                    </div>
                                </div>
                            </div>
                            <div class="delivery-location-item">
                                <i class="fa-solid fa-map-location-dot"></i>
                                <div class="delivery-location-item-content">
                                    <p>Пункт выдачи СДЭК</p>
                                    <span class="delivery-location-item-adress">Москва ул. Новопесчаная, 8 корп. 1</span>
                                    <span class="delivery-location-item-time">Ежедневно с 10:00 по 21:00</span>
                                    <div class="delivery-location-item-controls">
                                        <a href="#">Подробнее</a>
                                        <button class="btn">Забрать здесь</button>
                                    </div>
                                </div>
                            </div>
                            <div class="delivery-location-item">
                                <i class="fa-solid fa-map-location-dot"></i>
                                <div class="delivery-location-item-content">
                                    <p>Пункт выдачи СДЭК</p>
                                    <span class="delivery-location-item-adress">Москва ул. Новопесчаная, 8 корп. 1</span>
                                    <span class="delivery-location-item-time">Ежедневно с 10:00 по 21:00</span>
                                    <div class="delivery-location-item-controls">
                                        <a href="#">Подробнее</a>
                                        <button class="btn">Забрать здесь</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="delivery-inner active" id="delivery-inner1">
                    <div class="delivery-map-filters-wrapper">
                        <div class="delivery-map-filter-button">
                            <i class="fa-solid fa-sliders"></i>
                            <p>Фильтры</p>
                        </div>
                        <div class="delivery-map-filter-modal">
                            <div class="delivery-map-filter-modal-title">
                                <p>Фильтры</p><a>Сбросить</a>
                            </div>
                            <div class="delivery-map-filter-modal-items">
                                <div class="delivery-map-filter-modal-items-title">
                                    <span>Службы доставки</span>
                                </div>
                                <div class="shop-filter-item-with-checkbox">
                                    <label class="cbx">
                                        <div class="checkmark">
                                        <input type="checkbox" id="cbx">
                                        <div class="flip">
                                          <div class="front"></div>
                                            <div class="back">
                                              <svg viewBox="0 0 16 14" height="14" width="16">
                                                <path d="M2 8.5L6 12.5L14 1.5"></path>
                                              </svg>
                                            </div>
                                          </div>
                                        </div>
                                    </label>
                                    <div class="shop-filter-item-with-checkbox-text">
                                        СДЭК
                                    </div>
                                </div>
                                <div class="shop-filter-item-with-checkbox">
                                    <label class="cbx">
                                        <div class="checkmark">
                                        <input type="checkbox" id="cbx">
                                        <div class="flip">
                                          <div class="front"></div>
                                            <div class="back">
                                              <svg viewBox="0 0 16 14" height="14" width="16">
                                                <path d="M2 8.5L6 12.5L14 1.5"></path>
                                              </svg>
                                            </div>
                                          </div>
                                        </div>
                                    </label>
                                    <div class="shop-filter-item-with-checkbox-text">
                                        Связной
                                    </div>
                                </div>
                                <div class="shop-filter-item-with-checkbox">
                                    <label class="cbx">
                                        <div class="checkmark">
                                        <input type="checkbox" id="cbx">
                                        <div class="flip">
                                          <div class="front"></div>
                                            <div class="back">
                                              <svg viewBox="0 0 16 14" height="14" width="16">
                                                <path d="M2 8.5L6 12.5L14 1.5"></path>
                                              </svg>
                                            </div>
                                          </div>
                                        </div>
                                    </label>
                                    <div class="shop-filter-item-with-checkbox-text">
                                        Почта России
                                    </div>
                                </div>
                                <div class="shop-filter-item-with-checkbox">
                                    <label class="cbx">
                                        <div class="checkmark">
                                        <input type="checkbox" id="cbx">
                                        <div class="flip">
                                          <div class="front"></div>
                                            <div class="back">
                                              <svg viewBox="0 0 16 14" height="14" width="16">
                                                <path d="M2 8.5L6 12.5L14 1.5"></path>
                                              </svg>
                                            </div>
                                          </div>
                                        </div>
                                    </label>
                                    <div class="shop-filter-item-with-checkbox-text">
                                        Пятерочка 5post
                                    </div>
                                </div>
                                <button class="btn delivery-map-filter-modal-btn">
                                    Применить
                                </button>
                            </div>
                        </div>
                    </div>
                    <div id="map1" style="width: 100%; height: 100%;"></div>
                </div>
                <div class="delivery-inner" id="delivery-inner2">
                    <div id="map2" style="width: 100%; height: 100%;">
                        <svg width="1em" height="1em" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg" class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1xik8ah" focusable="false" aria-hidden="true"><circle cx="20" cy="14" r="14" fill="#FB3333"></circle><circle cx="20" cy="14" r="6" fill="#fff"></circle><path stroke="#FB3333" stroke-width="2" stroke-linecap="round" d="M20 27v12"></path></svg>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
    </footer>

    <!--Scripts-->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="assets/js/slick.min.js"></script>
    <script src="assets/js/sliders.js"></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script src="assets/js/swipers.js"></script>
    <script src="assets/js/delivery.js"></script>
    <script src="assets/js/aos.js"></script>
    <script src="assets/js/side-menu-pages.js"></script>
    <script src="assets/js/popup.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
        const switchItems = document.querySelectorAll('.delivery-switch-item');
        const deliveryContents = document.querySelectorAll('.delivery-inner');

        switchItems.forEach(item => {
            item.addEventListener('click', () => {
            // Удаляем класс active у всех переключателей и скрываем контент
            switchItems.forEach(i => i.classList.remove('active'));
            deliveryContents.forEach(content => content.classList.remove('active'));

            // Добавляем класс active текущему переключателю и его контенту
            item.classList.add('active');
            const target = document.querySelector(item.dataset.target);
            if (target) target.classList.add('active');
            });
        });
        });

    </script>
    <script>
    function observeDOMChanges() {
    // Создаем новый MutationObserver
    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
        // Проверяем, были ли добавлены новые элементы
        if (mutation.addedNodes.length > 0) {
            AOS.refresh(); // Выполняем AOS.refresh() при добавлении новых элементов
        }
        });
    });

    // Начинаем наблюдение за изменениями в body
    observer.observe(document.body, {
        childList: true,        // Наблюдаем за непосредственными изменениями в списке дочерних элементов
        subtree: true           // Наблюдаем за изменениями в поддеревьях
    });
    }

    // Вызов функции для автоматического наблюдения за изменениями
    observeDOMChanges();

    // Инициализация AOS
    AOS.init();
            // You can also pass an optional settings object
            // below listed default settings
            AOS.init({
            // Global settings:
            disable: false, // accepts following values: 'phone', 'tablet', 'mobile', boolean, expression or function
            startEvent: 'DOMContentLoaded', // name of the event dispatched on the document, that AOS should initialize on
            initClassName: 'aos-init', // class applied after initialization
            animatedClassName: 'aos-animate', // class applied on animation
            useClassNames: false, // if true, will add content of `data-aos` as classes on scroll
            disableMutationObserver: false, // disables automatic mutations' detections (advanced)
            debounceDelay: 50, // the delay on debounce used while resizing window (advanced)
            throttleDelay: 99, // the delay on throttle used while scrolling the page (advanced)
            

            // Settings that can be overridden on per-element basis, by `data-aos-*` attributes:
            offset: 120, // offset (in px) from the original trigger point
            delay: 0, // values from 0 to 3000, with step 50ms
            duration: 400, // values from 0 to 3000, with step 50ms
            easing: 'ease', // default easing for AOS animations
            once: false, // whether animation should happen only once - while scrolling down
            mirror: false, // whether elements should animate out while scrolling past them
            anchorPlacement: 'top-bottom', // defines which position of the element regarding to window should trigger the animation

            }); 
    </script> 
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const filterButton = document.querySelector(".delivery-map-filter-button");
            const filterModal = document.querySelector(".delivery-map-filter-modal");

            filterButton.addEventListener("click", () => {
                filterModal.classList.toggle("active");
            });
        });
      // Выбираем все элементы с классом .mob-delivery-location-switch-item
const switchItems = document.querySelectorAll('.mob-delivery-location-switch-item');
const deliverySide = document.querySelector('.delivery-side'); // Элемент для изменения стиля

// Добавляем обработчик события для каждого элемента
switchItems.forEach(item => {
    item.addEventListener('click', () => {
        // Удаляем класс active у всех элементов
        switchItems.forEach(el => el.classList.remove('active'));
        
        // Добавляем класс active к выбранному элементу
        item.classList.add('active');

        // Проверяем, активен ли второй элемент
        if (switchItems[1].classList.contains('active')) {
            deliverySide.style.maxHeight = 'none';
        } else {
            deliverySide.style.maxHeight = '';
        }
    });
});


    </script>
    <!--Yandex map--> 
    <script>
         ymaps.ready(init);

        function init() {
            // Создание карты
            var map = new ymaps.Map("map1", {
                center: [55.751244, 37.618423], // Координаты центра карты (Москва)
                zoom: 10,
                controls: []
            });

            // Создание кастомной метки
            var customPlacemark = new ymaps.Placemark(
                [55.751244, 37.618423], // Координаты метки
                {
                    hintContent: 'Центр Москвы', // Текст подсказки
                    balloonContent: 'Здесь находится Кремль' // Текст в балуне
                },
                {
                    iconLayout: 'default#imageWithContent', // Макет метки с контентом
                    iconImageHref: '', // Можно указать путь к изображению для фона метки (оставлено пустым для CSS-стилей)
                    iconImageSize: [50, 60], // Размер иконки
                    iconImageOffset: [-25, -60], // Смещение для указания на точку
                    iconContentLayout: ymaps.templateLayoutFactory.createClass(
                        '<div class="custom-marker">5</div>' // HTML-контент метки
                    )
                }
            );
            var customPlacemark2 = new ymaps.Placemark(
                [55.651244, 37.618423], // Координаты метки
                {
                    hintContent: 'Центр Москвы', // Текст подсказки
                    balloonContent: 'Здесь находится Кремль' // Текст в балуне
                },
                {
                    iconLayout: 'default#imageWithContent', // Макет метки с контентом
                    iconImageHref: '', // Можно указать путь к изображению для фона метки (оставлено пустым для CSS-стилей)
                    iconImageSize: [50, 60], // Размер иконки
                    iconImageOffset: [-25, -60], // Смещение для указания на точку
                    iconContentLayout: ymaps.templateLayoutFactory.createClass(
                        '<div class="custom-marker"><img src="assets/img/cdek-1.svg"></div>' // HTML-контент метки
                    )
                }
            );
            var customPlacemark3 = new ymaps.Placemark(
                [55.551244, 37.618423], // Координаты метки
                {
                    hintContent: 'Центр Москвы', // Текст подсказки
                    balloonContent: 'Здесь находится Кремль' // Текст в балуне
                },
                {
                    iconLayout: 'default#imageWithContent', // Макет метки с контентом
                    iconImageHref: '', // Можно указать путь к изображению для фона метки (оставлено пустым для CSS-стилей)
                    iconImageSize: [50, 60], // Размер иконки
                    iconImageOffset: [-25, -60], // Смещение для указания на точку
                    iconContentLayout: ymaps.templateLayoutFactory.createClass(
                        '<div class="custom-marker"><img src="assets/img/pochta-rf.png"></div>' // HTML-контент метки
                    )
                }
            );
            var customPlacemark4 = new ymaps.Placemark(
                [55.751244, 37.818423], // Координаты метки
                {
                    hintContent: 'Центр Москвы', // Текст подсказки
                    balloonContent: 'Здесь находится Кремль' // Текст в балуне
                },
                {
                    iconLayout: 'default#imageWithContent', // Макет метки с контентом
                    iconImageHref: '', // Можно указать путь к изображению для фона метки (оставлено пустым для CSS-стилей)
                    iconImageSize: [50, 60], // Размер иконки
                    iconImageOffset: [-25, -60], // Смещение для указания на точку
                    iconContentLayout: ymaps.templateLayoutFactory.createClass(
                        '<div class="custom-marker-circle">2</div>' // HTML-контент метки
                    )
                }
            );

            // Добавление метки на карту
            map.geoObjects.add(customPlacemark);
            map.geoObjects.add(customPlacemark2);
            map.geoObjects.add(customPlacemark3);
            map.geoObjects.add(customPlacemark4);
        }
    </script>
    <script>
    ymaps.ready(function () {
            // Создаем карту
            var map2 = new ymaps.Map('map2', {
                center: [55.76, 37.64], // Центр карты (Москва)
                zoom: 10
            });

            // Функция для установки пина по клику
            function placePin(coords) {
                // Удаляем предыдущий пин, если он есть
                if (map2.geoObjects.getLength()) {
                    map2.geoObjects.remove(map2.geoObjects.get(0));
                }

                // Добавляем новый пин
                var placemark = new ymaps.Placemark(coords, {
                    balloonContent: 'Вы выбрали это место'
                });

                map.geoObjects.add(placemark);
            }

            // Обработчик кликов по карте (пин будет ставиться сразу при клике)
            map2.events.add('click', function (e) {
                var coords = e.get('coords');
                placePin(coords);
            });

            // Функция поиска по адресу
            window.searchAddress = function () {
                var address = document.getElementById('address').value;
                var geocoder = new ymaps.Geocoder(address);

                geocoder.geocode().then(function (res) {
                    var firstGeoObject = res.geoObjects.get(0);
                    var coords = firstGeoObject.geometry.getCoordinates();

                    // Перемещаем карту на найденные координаты
                    map2.setCenter(coords, 12);

                    // Устанавливаем пин
                    placePin(coords);
                });
            };

            // Инициализация: установка пина по центру карты при загрузке
            placePin(map2.getCenter());
        });
    </script>
    
  </body>
</html>